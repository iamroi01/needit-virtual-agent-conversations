<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__8e317fb2571310107ff6ccaafcc63b5b">8a317fb2db13101090a8cc303996195c</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"8c358e1e25e049dcb236ab5c5a25a59e","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"8c358e1e25e049dcb236ab5c5a25a59e"}],"goals":[{"name":"primary","trigger_id":"8c358e1e25e049dcb236ab5c5a25a59e","nodes":[{"type":"StartGoal","goal_id":"52d9de12c6c642dea6d57f3257c00374","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"591f7253bd44412aa0f10a5694e462e1","name":"Start"},{"type":"TerminateGoal","goal_id":"52d9de12c6c642dea6d57f3257c00374","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"0a75d638485140b5a9413575e441b49f","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"d7987b4a03a84c0a9fdad7819966ff6d","name":"NeedIt Type","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"a793ee9d0b2d4f57a9459c2215fd5203","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"f732b20dd2194c39a164ca78b088f342","name":"NeedIt List","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"5491f584152b40aaba13fbbd8f33106f","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view."},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"5491f584152b40aaba13fbbd8f33106f","fields":["priority","short_description","u_when_needed"],"id":"64b8b9990d8e4839b63b15a900416f2d","name":"NeedIt Card","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"64912f671e61420a8b06794fc8d0b417","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"c1cd11ae6fa646328a6971f42680f7e8","name":"Search Again","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"784795111f0148cdbf9dc4cda146fafb","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":""},"id":"b3fa8737fb47489c9f9197524d6d2f61","name":"Yes"}],"id":"81e8c962cf924ec1b1bb3905816e1097","goal_id":"52d9de12c6c642dea6d57f3257c00374"},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"5491f584152b40aaba13fbbd8f33106f","id":"a26dd389c20c495e9fd8611b4d34ddef","name":"Change When Needed Date","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"5491f584152b40aaba13fbbd8f33106f","fields":["u_when_needed","short_description"],"id":"c88a5f7d97014fb98778b86898ab7842","name":"Updated NeedIt","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"4c5c5dfe798e4790a504b4192df1a7ad","name":"What To Update","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"5688ce6fee3942ed9c8c5d3d642aa766","message":{"type":"String","mode":"string","value":"What do you want to update?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Update Field","branches":[{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"what_to_update=Nothing"},"id":"cff4e73fe0ef4ea09285505aa3c7cc17","name":"Nothing"},{"type":"Branch","label":"When needed","expression":{"type":"Applicability","mode":"query","value":"what_to_update=When needed"},"id":"ddecd4d4a67144cb9f4873b1529f9cbd","name":"When needed"},{"type":"Branch","label":"Short description","expression":{"type":"Applicability","mode":"query","value":"what_to_update=Short description"},"id":"35654b767d28407caf93a0504020fa5c","name":"Short description"}],"id":"00311ed9932548ca84a115d670bdddae","goal_id":"52d9de12c6c642dea6d57f3257c00374"},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"5491f584152b40aaba13fbbd8f33106f","id":"439451f6bbf4488ba137ffffb60bdc6a","name":"Change Short Description","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"86df18311cf745a0811d1c2b99ae191c","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"3d9f24c641654dd5b3c484fa2a9865dc","name":"New When Needed Date","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"2619dfe980e543f0b5bf70244109cd76","message":{"type":"String","mode":"string","value":"What's the new short description?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"c87f93aaaa8e4b2c96f9469da6db47b9","name":"New Short Description","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n\t    // Return the display value (Label) for the needit_type choice\n\t    return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n\t})()"},"id":"474901825b194d66b57221f4acee72d8","name":"Confirm NeedIt Type","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n\t    // Add 1 to the search_count variable\n\t    vaVars.search_count = vaVars.search_count + 1;\n\t})()","id":"a532451462f346fe87d321d7f79f6dd7","name":"Update search_count","goal_id":"52d9de12c6c642dea6d57f3257c00374","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"search_count is less than 3.","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n\t    // If the value of search_count is less than 3, return true\n\t    // otherwise, return false\n\t    if (vaVars.search_count &lt; 3)\n\t        return true;\n\t    else\n\t        return false;\n\t})()"},"id":"933033773de84e61bcb3325eca67799e","name":"search_count is less than 3."},{"type":"Branch","label":"search_count is 3 or more","expression":{"type":"Applicability","mode":"query","value":""},"id":"afe6cd5209594e76b72c8aa13bc5c26a","name":"search_count is 3 or more"}],"id":"51713d52122940a6a7b5dd16a4866403","goal_id":"52d9de12c6c642dea6d57f3257c00374"}],"edges":[{"type":"Edge","source_node_id":"f732b20dd2194c39a164ca78b088f342","target_node_id":"64b8b9990d8e4839b63b15a900416f2d","id":"a5ee69cfbae341d9ad21cd2329824687"},{"type":"Edge","source_node_id":"4c5c5dfe798e4790a504b4192df1a7ad","target_node_id":"00311ed9932548ca84a115d670bdddae","id":"62f51f443e19427b904dece6384da3c3"},{"type":"Edge","source_node_id":"591f7253bd44412aa0f10a5694e462e1","target_node_id":"d7987b4a03a84c0a9fdad7819966ff6d","id":"18da09e378ae4272aa6abca6977d0ee9"},{"type":"Edge","source_node_id":"c1cd11ae6fa646328a6971f42680f7e8","target_node_id":"81e8c962cf924ec1b1bb3905816e1097","id":"1e8dbc481fae4d8fb2616397e96c5d45"},{"type":"Edge","source_node_id":"81e8c962cf924ec1b1bb3905816e1097","target_node_id":"0a75d638485140b5a9413575e441b49f","branch_id":"784795111f0148cdbf9dc4cda146fafb","id":"c9dc2e0d9ef449cabb6df62901d86fbb","name":"784795111f0148cdbf9dc4cda146fafb"},{"type":"Edge","source_node_id":"a26dd389c20c495e9fd8611b4d34ddef","target_node_id":"c88a5f7d97014fb98778b86898ab7842","id":"ec1525f2e5214ffc92c33a4777df8a35"},{"type":"Edge","source_node_id":"c88a5f7d97014fb98778b86898ab7842","target_node_id":"c1cd11ae6fa646328a6971f42680f7e8","id":"f76e7f031743449583951e8c4580d6a8"},{"type":"Edge","source_node_id":"64b8b9990d8e4839b63b15a900416f2d","target_node_id":"4c5c5dfe798e4790a504b4192df1a7ad","id":"063c7484e20e45c09a4f2d78017a9018"},{"type":"Edge","source_node_id":"00311ed9932548ca84a115d670bdddae","target_node_id":"c1cd11ae6fa646328a6971f42680f7e8","branch_id":"cff4e73fe0ef4ea09285505aa3c7cc17","id":"05563bd1d9d24d89aa9085f2f4fbe3d0","name":"cff4e73fe0ef4ea09285505aa3c7cc17"},{"type":"Edge","source_node_id":"439451f6bbf4488ba137ffffb60bdc6a","target_node_id":"c88a5f7d97014fb98778b86898ab7842","id":"8a47d007898f49888897f0e8ec875304"},{"type":"Edge","source_node_id":"00311ed9932548ca84a115d670bdddae","target_node_id":"3d9f24c641654dd5b3c484fa2a9865dc","branch_id":"ddecd4d4a67144cb9f4873b1529f9cbd","id":"2867cb3bbdba479796f8441bfcf2e9e8","name":"ddecd4d4a67144cb9f4873b1529f9cbd"},{"type":"Edge","source_node_id":"3d9f24c641654dd5b3c484fa2a9865dc","target_node_id":"a26dd389c20c495e9fd8611b4d34ddef","id":"0be5a6669f9842668ca816c7ca4ee39e"},{"type":"Edge","source_node_id":"00311ed9932548ca84a115d670bdddae","target_node_id":"c87f93aaaa8e4b2c96f9469da6db47b9","branch_id":"35654b767d28407caf93a0504020fa5c","id":"cff8fd250e6e476592fdb4dfc94c590c","name":"35654b767d28407caf93a0504020fa5c"},{"type":"Edge","source_node_id":"c87f93aaaa8e4b2c96f9469da6db47b9","target_node_id":"439451f6bbf4488ba137ffffb60bdc6a","id":"f6e01a0333904214bdaf3f9bc768b8e5"},{"type":"Edge","source_node_id":"d7987b4a03a84c0a9fdad7819966ff6d","target_node_id":"474901825b194d66b57221f4acee72d8","id":"6a6e320db18348679ccf4369125e815e"},{"type":"Edge","source_node_id":"474901825b194d66b57221f4acee72d8","target_node_id":"f732b20dd2194c39a164ca78b088f342","id":"40bb05dd426341f29c85cabcf80a2a46"},{"type":"Edge","source_node_id":"81e8c962cf924ec1b1bb3905816e1097","target_node_id":"a532451462f346fe87d321d7f79f6dd7","branch_id":"b3fa8737fb47489c9f9197524d6d2f61","id":"a27dd1307c2a4ed0ba9b1736a9af2950","name":"b3fa8737fb47489c9f9197524d6d2f61"},{"type":"Edge","source_node_id":"a532451462f346fe87d321d7f79f6dd7","target_node_id":"51713d52122940a6a7b5dd16a4866403","id":"96f6d4529c2342c391a6af90f9e56546"},{"type":"Edge","source_node_id":"51713d52122940a6a7b5dd16a4866403","target_node_id":"d7987b4a03a84c0a9fdad7819966ff6d","branch_id":"933033773de84e61bcb3325eca67799e","id":"c0c1d1a65e7f47e1b5621cac3010e7b5","name":"933033773de84e61bcb3325eca67799e"},{"type":"Edge","source_node_id":"51713d52122940a6a7b5dd16a4866403","target_node_id":"0a75d638485140b5a9413575e441b49f","branch_id":"afe6cd5209594e76b72c8aa13bc5c26a","id":"e0e23bc62bba4cc4931a78a24044b540","name":"afe6cd5209594e76b72c8aa13bc5c26a"}],"id":"52d9de12c6c642dea6d57f3257c00374"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"1bb0d46536024c8f86f5f52d60565e8a"}],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"a793ee9d0b2d4f57a9459c2215fd5203","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"5491f584152b40aaba13fbbd8f33106f","name":"needit_list"},{"type":"True/False","id":"64912f671e61420a8b06794fc8d0b417","name":"search_again"},{"type":"Date/Time","mode":"date_time","id":"86df18311cf745a0811d1c2b99ae191c","name":"new_when_needed_date"},{"type":"Reference","table":"x_58872_needit_needit","id":"5ae35b168abc4a4b9fec504372e0d588","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Short Description","element":"Short description"},{"name":"When needed","element":"When needed"},{"name":"Nothing","element":"Nothing"}],"id":"5688ce6fee3942ed9c8c5d3d642aa766","name":"what_to_update"},{"type":"Reference","table":"x_58872_needit_needit","id":"fd643f89ed594adb96925f2aef0f8f25","name":"change_short_description"},{"type":"String","name":"new_short_description","id":"2619dfe980e543f0b5bf70244109cd76"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"f1c11073db87501090a8cc3039961928","id":"e2c290bfdbc7501090a8cc30399619ae","name":"_PRVW__8e317fb2571310107ff6ccaafcc63b5b","key_phrases":["NeedIt Request","Update NeedIt Records"],"nlu_provider":"","nlu_model":"","nlu_intent":"","flexible_conversation_switching":false,"design_category":"5f521033db4b501090a8cc3039961959"}</design_definition>
        <design_topic_id>e2c290bfdbc7501090a8cc30399619ae</design_topic_id>
        <name>_PRVW__8e317fb2571310107ff6ccaafcc63b5b</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-09-21 03:10:52</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>82317fb2db13101090a8cc303996195f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_502135_needit_vi">f1c11073db87501090a8cc3039961928</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">f1c11073db87501090a8cc3039961928</sys_scope>
        <sys_update_name>sys_cb_design_topic_82317fb2db13101090a8cc303996195f</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-09-21 03:10:52</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
